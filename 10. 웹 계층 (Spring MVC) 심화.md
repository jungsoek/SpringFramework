# 10. ì›¹ ê³„ì¸µ (Spring MVC) ì‹¬í™”

## DispatcherServlet êµ¬ì¡°

**`DispatcherServlet`**ì€ Spring MVCì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¡œ,
 **HTTP ìš”ì²­ì„ ì¤‘ì•™ì—ì„œ ë°›ì•„ì„œ ì²˜ë¦¬ íë¦„ì„ ë¶„ê¸°í•˜ê³ , ì‘ë‹µì„ ì‘ì„±í•˜ëŠ” í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬(Front Controller)**ì…ë‹ˆë‹¤.

ë‹¤ìŒì€ `DispatcherServlet`ì˜ **ì—­í• , ë™ì‘ êµ¬ì¡°, ë‚´ë¶€ êµ¬ì„±, ì²˜ë¦¬ ìˆœì„œ, ì£¼ìš” ì»´í¬ë„ŒíŠ¸, ì»¤ìŠ¤í„°ë§ˆì´ì§• ì „ëµ, ì‹¤ë¬´ í™œìš©ë²•**ê¹Œì§€ í¬í•¨í•œ
 **ê°€ì¥ ê¹Šì´ ìˆê³  ì²´ê³„ì ì¸ ì„¤ëª…**ì…ë‹ˆë‹¤.

------

### ğŸ“˜ 1. DispatcherServletì´ë€?

- Spring MVCì—ì„œ **HTTP ìš”ì²­ì„ ë°›ì•„ Controllerë¡œ ì „ë‹¬í•˜ê³ , ê²°ê³¼ë¥¼ Viewë¡œ ë Œë”ë§**í•˜ëŠ” **í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬**
- `web.xml` ë˜ëŠ” Spring Bootì—ì„œëŠ” `DispatcherServlet`ì´ **ì„œë¸”ë¦¿ ê²½ë¡œ `/`ì— ë“±ë¡**ë˜ì–´ ëª¨ë“  ìš”ì²­ì„ ê°€ë¡œì±”

> ğŸ“Œ í•µì‹¬: Spring MVCì˜ ì¤‘ì‹¬ ì¶•ì´ì **ëª¨ë“  ìš”ì²­ ì§„ì…ì **

------

### ğŸ§± 2. DispatcherServlet ê¸°ë³¸ êµ¬ì¡°ë„

```
[Client HTTP Request]
          â†“
   DispatcherServlet
          â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ HandlerMapping               â”‚ â†’ ì–´ë–¤ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì²˜ë¦¬í• ì§€ ê²°ì •
  â”‚ HandlerAdapter               â”‚ â†’ ì‹¤ì œ ì»¨íŠ¸ë¡¤ëŸ¬ ì‹¤í–‰
  â”‚ HandlerInterceptor(s)        â”‚ â†’ ì‚¬ì „/í›„ ì²˜ë¦¬
  â”‚ ArgumentResolvers            â”‚ â†’ @RequestParam, @ModelAttribute í•´ì„
  â”‚ ReturnValueHandlers          â”‚ â†’ @ResponseBody ë“± ì²˜ë¦¬
  â”‚ ViewResolver                 â”‚ â†’ ë·° ì´ë¦„ â†’ View ê°ì²´
  â”‚ View                         â”‚ â†’ ìµœì¢… HTML ë˜ëŠ” JSON ë Œë”ë§
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
[Client HTTP Response]
```

------

### ğŸ”„ 3. DispatcherServlet ìš”ì²­ ì²˜ë¦¬ íë¦„

```
1. ìš”ì²­ ìˆ˜ì‹  â†’ DispatcherServlet
2. HandlerMapping â†’ ìš”ì²­ URLê³¼ ë§¤í•‘ë˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ íƒìƒ‰
3. HandlerAdapter â†’ í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‹¤í–‰
4. ArgumentResolver â†’ ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ ë°”ì¸ë”©
5. Interceptor (preHandle)
6. Controller â†’ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰
7. ReturnValueHandler â†’ ë°˜í™˜ê°’ ì²˜ë¦¬
8. ViewResolver â†’ View ì´ë¦„ì„ View ê°ì²´ë¡œ ë³€í™˜
9. View ë Œë”ë§ (HTML or JSON ë“±)
10. Interceptor (postHandle, afterCompletion)
11. ìµœì¢… ì‘ë‹µ ë°˜í™˜
```

------

### âš™ï¸ 4. ì£¼ìš” ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸             | ì„¤ëª…                                     |
| -------------------- | ---------------------------------------- |
| `HandlerMapping`     | URL â†’ ì»¨íŠ¸ë¡¤ëŸ¬ ì°¾ê¸° (`@RequestMapping`)  |
| `HandlerAdapter`     | ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ì‹¤í–‰ ì–´ëŒ‘í„°              |
| `HandlerInterceptor` | ì „/í›„ì²˜ë¦¬ í•„í„° (ë¡œê·¸ì¸ ê²€ì¦ ë“±)          |
| `ArgumentResolver`   | `@RequestParam`, `@PathVariable` ë“± í•´ì„ |
| `ReturnValueHandler` | `@ResponseBody`, `ModelAndView` ì²˜ë¦¬     |
| `ViewResolver`       | View ì´ë¦„ â†’ View ê°ì²´ ë³€í™˜               |
| `View`               | ìµœì¢… ë Œë”ë§ (JSP, Thymeleaf, JSON ë“±)    |

------

### ğŸ§ª 5. ì‹¤ì „ íë¦„ ì˜ˆì œ

#### ìš”ì²­

```
GET /user/1
```

#### ì»¨íŠ¸ë¡¤ëŸ¬

```
@GetMapping("/user/{id}")
public String getUser(@PathVariable Long id, Model model) {
    model.addAttribute("user", userService.getUser(id));
    return "user/detail"; // ë·° ì´ë¦„
}
```

#### ì²˜ë¦¬ ê³¼ì • ìš”ì•½

| ë‹¨ê³„                  | ë‚´ìš©                                          |
| --------------------- | --------------------------------------------- |
| 1. DispatcherServlet  | ìš”ì²­ ìˆ˜ì‹                                      |
| 2. HandlerMapping     | `/user/{id}` â†’ ì»¨íŠ¸ë¡¤ëŸ¬ íƒìƒ‰                  |
| 3. HandlerAdapter     | ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ í˜¸ì¶œ                          |
| 4. ArgumentResolver   | `@PathVariable id` ì¶”ì¶œ                       |
| 5. ReturnValueHandler | ë·° ì´ë¦„ `"user/detail"` í•´ì„                  |
| 6. ViewResolver       | `user/detail` â†’ `/templates/user/detail.html` |
| 7. View               | Thymeleaf ë Œë”ë§                              |
| 8. ì‘ë‹µ ë°˜í™˜          | HTML ì™„ì„± â†’                                   |

------

### ğŸ§° 6. Spring Bootì—ì„œ DispatcherServlet ìë™ ì„¤ì •

```
@Bean
public DispatcherServlet dispatcherServlet() {
    DispatcherServlet servlet = new DispatcherServlet();
    servlet.setThrowExceptionIfNoHandlerFound(true);
    return servlet;
}
```

â†’ Spring Bootì—ì„œëŠ” `/` ê²½ë¡œì— ìë™ ë“±ë¡ë¨

------

### âš ï¸ 7. ì‹¤ë¬´ ì£¼ì˜ì‚¬í•­

| í•­ëª©                   | ì„¤ëª…                                                 |
| ---------------------- | ---------------------------------------------------- |
| 404 ë°œìƒ               | `HandlerMapping`ì´ ì—†ê±°ë‚˜ ê²½ë¡œ ë¶ˆì¼ì¹˜                |
| View ì´ë¦„ í•´ì„ ì•ˆ ë¨   | `ViewResolver` ì„¤ì • ëˆ„ë½                             |
| JSON ë°˜í™˜ ì˜¤ë¥˜         | `@ResponseBody` ì—†ê±°ë‚˜ `HttpMessageConverter` ë¯¸ì„¤ì • |
| Interceptor ì ìš© ì•ˆ ë¨ | `addPathPatterns()` ë¯¸ì„¤ì •                           |
| ì»¤ìŠ¤í„°ë§ˆì´ì§• í•„ìš”      | `WebMvcConfigurer`ì—ì„œ êµ¬ì„± ìš”ì†Œ ì£¼ì… ê°€ëŠ¥           |

------

### ğŸ”§ 8. DispatcherServlet í™•ì¥ ì „ëµ

| ë°©ë²•                                     | ì„¤ëª…                                      |
| ---------------------------------------- | ----------------------------------------- |
| `HandlerInterceptor` ë“±ë¡                | ë¡œê·¸ì¸ ì¸ì¦, ë¡œê¹… ë“±                      |
| `WebMvcConfigurer` êµ¬í˜„                  | MVC ì„¤ì • ì „ì²´ í™•ì¥                        |
| `Custom ArgumentResolver`                | `@LoginUser` ë“± ì‚¬ìš©ì ì •ì˜ íŒŒë¼ë¯¸í„° ì²˜ë¦¬ |
| `Custom ReturnValueHandler`              | í‘œì¤€ ì‘ë‹µ ë˜í•‘ ì²˜ë¦¬                       |
| `ExceptionHandler` / `@ControllerAdvice` | ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ êµ¬ì„±                       |

------

### âœ… 9. ìš”ì•½

| í•­ëª©             | ì„¤ëª…                                               |
| ---------------- | -------------------------------------------------- |
| ì •ì˜             | Spring MVCì˜ ìš”ì²­ ì§„ì…ì ì´ì ë¶„ê¸° ì²˜ë¦¬ê¸°           |
| ì£¼ìš” ê¸°ëŠ¥        | ìš”ì²­ â†’ ì»¨íŠ¸ë¡¤ëŸ¬ â†’ ë·°ë¡œì˜ íë¦„ ì œì–´                 |
| í•µì‹¬ ì»´í¬ë„ŒíŠ¸    | HandlerMapping, ViewResolver ë“±                    |
| ìë™ ì„¤ì •        | Spring Bootì—ì„œ ìë™ ë“±ë¡                          |
| ì‹¤ë¬´ í™•ì¥ í¬ì¸íŠ¸ | WebMvcConfigurer, Interceptor, ExceptionHandler ë“± |

## ìš”ì²­ ë§¤í•‘

- ## `@RequestMapping`, `@GetMapping`, `@PostMapping`

  ë‹¤ìŒì€ Spring MVCì—ì„œ ì‚¬ìš©ë˜ëŠ” í•µì‹¬ HTTP ë§¤í•‘ ì–´ë…¸í…Œì´ì…˜ì¸
   **`@RequestMapping`, `@GetMapping`, `@PostMapping`**ì˜
   **ì—­í• , ì°¨ì´ì , ì†ì„±, ë™ì‘ ì›ë¦¬, ì‹¤ë¬´ ì‚¬ìš© ì „ëµ, ì¤‘ë³µ ë§¤í•‘ ì²˜ë¦¬ë²•**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. ê°œìš” ìš”ì•½

  | ì–´ë…¸í…Œì´ì…˜        | ì„¤ëª…                                                         |
  | ----------------- | ------------------------------------------------------------ |
  | `@RequestMapping` | ëª¨ë“  HTTP ë©”ì„œë“œ(GET, POST ë“±)ë¥¼ ì²˜ë¦¬í•˜ëŠ” **ë²”ìš© ë§¤í•‘ ì–´ë…¸í…Œì´ì…˜** |
  | `@GetMapping`     | `@RequestMapping(method = GET)`ì˜ ì¶•ì•½í˜•                     |
  | `@PostMapping`    | `@RequestMapping(method = POST)`ì˜ ì¶•ì•½í˜•                    |

  â†’ Spring 4.3 ì´í›„ë¶€í„°ëŠ” **íŠ¹ì • HTTP ë©”ì„œë“œìš© ì¶•ì•½ ì–´ë…¸í…Œì´ì…˜(@GetMapping ë“±)**ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ **í‘œì¤€**ì´ë©°, ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë” ì¢‹ìŒ

  ------

  ### ğŸ§± 2. `@RequestMapping`

  #### âœ… ì—­í• 

  - **URL íŒ¨í„´ê³¼ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œë¥¼ ì—°ê²°í•˜ëŠ” ì „ë°˜ì  ë¼ìš°íŒ… ì–´ë…¸í…Œì´ì…˜**
  - ë‹¤ì–‘í•œ ì†ì„± ì¡°í•©ìœ¼ë¡œ ë§¤ìš° ìœ ì—°í•œ ìš”ì²­ ì²˜ë¦¬ ê°€ëŠ¥

  #### âœ… ì˜ˆì œ

  ```
  @RequestMapping(value = "/users", method = RequestMethod.GET)
  public String getUsers() { ... }
  ```

  ------

  #### âœ… ì£¼ìš” ì†ì„±

  | ì†ì„±             | ì„¤ëª…                                |
  | ---------------- | ----------------------------------- |
  | `value` / `path` | URL íŒ¨í„´ ì§€ì •                       |
  | `method`         | HTTP ë©”ì„œë“œ (`GET`, `POST` ë“±)      |
  | `params`         | íŠ¹ì • ìš”ì²­ íŒŒë¼ë¯¸í„° ìœ ë¬´ë¡œ ë§¤í•‘ ì œí•œ |
  | `headers`        | íŠ¹ì • í—¤ë” ì¡°ê±´ìœ¼ë¡œë§Œ í—ˆìš©           |
  | `consumes`       | ìš”ì²­ Content-Type ì œí•œ              |
  | `produces`       | ì‘ë‹µ Content-Type ì§€ì •              |

  ------

  #### âœ… ë‹¤ì–‘í•œ í™œìš© ì˜ˆ

  ```
  @RequestMapping(path = "/test", method = RequestMethod.GET)
  @RequestMapping(value = "/submit", method = {RequestMethod.POST, RequestMethod.PUT})
  @RequestMapping(value = "/json", consumes = "application/json", produces = "application/json")
  @RequestMapping(value = "/download", headers = "X-File=true")
  @RequestMapping(value = "/submit", params = "mode=fast")
  ```

  ------

  ### ğŸŒ 3. `@GetMapping`, `@PostMapping`

  Spring 4.3ë¶€í„° ë„ì…ëœ **HTTP ë©”ì„œë“œë³„ ì „ìš© ë§¤í•‘ ì–´ë…¸í…Œì´ì…˜**

  | ì–´ë…¸í…Œì´ì…˜       | ë‚´ë¶€ ë³€í™˜                        |
  | ---------------- | -------------------------------- |
  | `@GetMapping`    | `@RequestMapping(method = GET)`  |
  | `@PostMapping`   | `@RequestMapping(method = POST)` |
  | `@PutMapping`    | PUT                              |
  | `@DeleteMapping` | DELETE                           |
  | `@PatchMapping`  | PATCH                            |

  ------

  #### âœ… ì‚¬ìš© ì˜ˆì œ

  ```
  @GetMapping("/users")
  public List<User> list() { ... }
  
  @PostMapping("/users")
  public void create(@RequestBody User user) { ... }
  ```

  â†’ ê°€ë…ì„±ì´ ë›°ì–´ë‚˜ê³  REST API ì„¤ê³„ì— ë§¤ìš° ì í•©

  ------

  ### ğŸ§© 4. í´ë˜ìŠ¤ ë ˆë²¨ + ë©”ì„œë“œ ë ˆë²¨ ë§¤í•‘

  ```
  @RestController
  @RequestMapping("/api/users")
  public class UserController {
  
      @GetMapping("/{id}")
      public User getUser(@PathVariable Long id) { ... }
  
      @PostMapping
      public void create(@RequestBody User user) { ... }
  }
  ```

  - `í´ë˜ìŠ¤ ë ˆë²¨ @RequestMapping("/api/users")`ëŠ” **ê³µí†µ prefix**
  - ë©”ì„œë“œ ë ˆë²¨ì€ **ìƒëŒ€ ê²½ë¡œ**

  ------

  ### âš ï¸ 5. ì¤‘ë³µ ë§¤í•‘ ì²˜ë¦¬

  Springì€ í•˜ë‚˜ì˜ ìš”ì²­ URLì— ëŒ€í•´ **ë‹¨ í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œë§Œ ë§¤í•‘ë˜ì–´ì•¼ í•¨**

  ```
  @GetMapping("/users")
  public void a() {}
  
  @RequestMapping("/users")
  public void b() {}  // âŒ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ì¶©ëŒ â†’ ì˜ˆì™¸ ë°œìƒ
  ```

  â†’ URL + HTTP Method ì¡°í•©ì´ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•´ì•¼ í•¨

  ------

  ### ğŸ§  6. ì‹¤ë¬´ ì „ëµ

  | ì „ëµ                      | ì„¤ëª…                                                  |
  | ------------------------- | ----------------------------------------------------- |
  | REST API ê°œë°œ ì‹œ          | `@GetMapping`, `@PostMapping` ë“± **ì¶•ì•½í˜• ì‚¬ìš© ê¶Œì¥** |
  | HTML ë Œë”ë§ í¬í•¨ ì‹œ       | `@RequestMapping`ìœ¼ë¡œ í™•ì¥ì„± í™•ë³´ ê°€ëŠ¥                |
  | í•„í„°ë§ ì¡°ê±´ì´ ë§ì„ ê²½ìš°   | `params`, `headers`, `consumes` í™œìš©                  |
  | JSON ì‘ë‹µ APIì¼ ê²½ìš°      | `@ResponseBody` ë˜ëŠ” `@RestController` í•¨ê»˜ ì‚¬ìš©      |
  | ë™ì  PathVariable ë§¤í•‘ ì‹œ | `@GetMapping("/users/{id}")` í˜•íƒœë¡œ ëª…í™•í•˜ê²Œ í‘œí˜„     |

  ------

  ### ğŸ“Œ 7. ìš”ì•½ ë¹„êµí‘œ

  | í•­ëª©             | `@RequestMapping`                | `@GetMapping` / `@PostMapping` |
  | ---------------- | -------------------------------- | ------------------------------ |
  | HTTP ë©”ì„œë“œ ì§€ì • | ëª…ì‹œì  (`method = GET`)          | ì¶•ì•½í˜• ì „ìš© ì–´ë…¸í…Œì´ì…˜         |
  | ê°€ë…ì„±           | ë³µì¡í•œ ë§¤í•‘ì— ì í•©               | REST API ì‘ì„±ì— ì í•©           |
  | ìœ ì—°ì„±           | âœ… ì¡°ê±´ ê¸°ë°˜ í•„í„°ë§ ê°€ëŠ¥          | ì œí•œì                          |
  | ì‹¤ë¬´ ì‚¬ìš© ê¶Œì¥   | ê³µí†µ prefix, ë³µí•© ì¡°ê±´ í•„ìš”í•  ë•Œ | âœ… ëŒ€ë¶€ë¶„ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ     |

## ìš”ì²­ íŒŒë¼ë¯¸í„° ì²˜ë¦¬

- ## `@RequestParam`, `@PathVariable`, `@ModelAttribute`, `@RequestBody`

  ë‹¤ìŒì€ Spring MVCì—ì„œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ë°ì´í„°ë¥¼ **ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„°ë¡œ ë°”ì¸ë”©í•  ë•Œ ì‚¬ìš©í•˜ëŠ”** í•µì‹¬ ì–´ë…¸í…Œì´ì…˜ì¸
   **`@RequestParam`, `@PathVariable`, `@ModelAttribute`, `@RequestBody`**ì— ëŒ€í•œ
   **ê°œë…, ë™ì‘ ì›ë¦¬, ì°¨ì´ì , ì‚¬ìš© ì˜ˆì œ, ë°”ì¸ë”© ë°©ì‹, JSON/Form ì—°ë™, ì‹¤ë¬´ ì „ëµ**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. ê°œë… ìš”ì•½

  | ì–´ë…¸í…Œì´ì…˜        | ìš©ë„                                                   |
  | ----------------- | ------------------------------------------------------ |
  | `@RequestParam`   | **ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**, `form-urlencoded` ë“± ë‹¨ì¼ ê°’ ë°”ì¸ë”© |
  | `@PathVariable`   | **URL ê²½ë¡œì˜ ì¼ë¶€ë¶„**ì„ ë³€ìˆ˜ë¡œ ì¶”ì¶œ                    |
  | `@ModelAttribute` | **í¼ ë°ì´í„° â†’ ê°ì²´ë¡œ ë°”ì¸ë”©** (HTML Formì—ì„œ ì‚¬ìš©)     |
  | `@RequestBody`    | **HTTP Body(JSON/XML ë“±)**ë¥¼ ê°ì²´ë¡œ ì—­ì§ë ¬í™”           |

  ------

  ### ğŸ§© 2. ê°ê°ì˜ ë™ì‘ ë°©ì‹ê³¼ ì˜ˆì œ

  ------

  ### âœ… 1. `@RequestParam`

  #### ì„¤ëª…:

  - ìš”ì²­ íŒŒë¼ë¯¸í„°(Query String, Form field ë“±)ë¥¼ ë‹¨ì¼ ë³€ìˆ˜ì— ë°”ì¸ë”©

  #### ìš”ì²­ ì˜ˆ:

  ```
  GET /users?name=kim&age=30
  ```

  #### ì»¨íŠ¸ë¡¤ëŸ¬:

  ```
  @GetMapping("/users")
  public String getUser(@RequestParam String name, @RequestParam int age) {
      ...
  }
  ```

  #### ì†ì„±:

  | ì†ì„±           | ì„¤ëª…                           |
  | -------------- | ------------------------------ |
  | `value`        | íŒŒë¼ë¯¸í„° ì´ë¦„ ì§€ì • (ìƒëµ ê°€ëŠ¥) |
  | `required`     | í•„ìˆ˜ ì—¬ë¶€ (ê¸°ë³¸ê°’ `true`)      |
  | `defaultValue` | ê°’ì´ ì—†ì„ ë•Œ ê¸°ë³¸ê°’ ì§€ì •       |

  ------

  ### âœ… 2. `@PathVariable`

  #### ì„¤ëª…:

  - URL ê²½ë¡œ ì¼ë¶€ë¥¼ **ë™ì ìœ¼ë¡œ ë³€ìˆ˜í™”**í•˜ì—¬ ë§¤í•‘

  #### ìš”ì²­ ì˜ˆ:

  ```
  GET /users/42
  ```

  #### ì»¨íŠ¸ë¡¤ëŸ¬:

  ```
  @GetMapping("/users/{id}")
  public String getUser(@PathVariable("id") Long userId) {
      ...
  }
  ```

  â†’ `@PathVariable`ì€ `{}`ë¡œ ê°ì‹¼ URL ê²½ë¡œì˜ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œ ì¸ìë¡œ ì „ë‹¬

  ------

  ### âœ… 3. `@ModelAttribute`

  #### ì„¤ëª…:

  - HTML `<form>`ì—ì„œ ì „ì†¡ëœ **ìš”ì²­ íŒŒë¼ë¯¸í„°ë“¤ì„ Java ê°ì²´ë¡œ ë°”ì¸ë”©**
  - ë‚´ë¶€ì ìœ¼ë¡œ `@RequestParam`ì„ ì‚¬ìš©í•´ì„œ ê° í•„ë“œë¥¼ ë°”ì¸ë”©
  - **ê°ì²´ì— ì„¸í„° ë©”ì„œë“œê°€ í•„ìˆ˜**

  #### ìš”ì²­ ì˜ˆ:

  ```
  POST /register
  Content-Type: application/x-www-form-urlencoded
  
  name=kim&age=30
  ```

  #### DTO:

  ```
  public class UserForm {
      private String name;
      private int age;
      // getter/setter í•„ìˆ˜
  }
  ```

  #### ì»¨íŠ¸ë¡¤ëŸ¬:

  ```
  @PostMapping("/register")
  public String register(@ModelAttribute UserForm form) {
      ...
  }
  ```

  â†’ ìƒëµ ê°€ëŠ¥: `@ModelAttribute`ëŠ” ìƒëµí•´ë„ ìë™ìœ¼ë¡œ ì ìš©ë¨

  ------

  ### âœ… 4. `@RequestBody`

  #### ì„¤ëª…:

  - ìš”ì²­ì˜ **HTTP ë³¸ë¬¸(Body)**ì„ **JSON â†’ Java ê°ì²´**ë¡œ ì—­ì§ë ¬í™”
  - Jackson, Gson ë“± HTTP Message Converterê°€ ì‘ë™

  #### ìš”ì²­ ì˜ˆ:

  ```
  POST /api/users
  Content-Type: application/json
  
  {
    "name": "kim",
    "age": 30
  }
  ```

  #### DTO:

  ```
  public class UserDto {
      private String name;
      private int age;
      // getter/setter í•„ìˆ˜
  }
  ```

  #### ì»¨íŠ¸ë¡¤ëŸ¬:

  ```
  @PostMapping("/api/users")
  public String create(@RequestBody UserDto dto) {
      ...
  }
  ```

  â†’ **ê°ì²´ë¡œ ë°”ì¸ë”© + @Validì™€ í•¨ê»˜ ê²€ì¦ ê°€ëŠ¥**

  ------

  ### âš ï¸ 3. ì°¨ì´ì  ë¹„êµí‘œ

  | í•­ëª©                  | `@RequestParam`           | `@PathVariable`         | `@ModelAttribute`                                | `@RequestBody`      |
  | --------------------- | ------------------------- | ----------------------- | ------------------------------------------------ | ------------------- |
  | ì‚¬ìš© ìœ„ì¹˜             | ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, Form field | URL ê²½ë¡œ                | Form field (`application/x-www-form-urlencoded`) | HTTP Body (JSON ë“±) |
  | ìš”ì²­ ë°©ì‹             | GET/POST ëª¨ë‘ ê°€ëŠ¥        | ì£¼ë¡œ REST GET/DELETE ë“± | HTML Form ì „ì†¡ì— íŠ¹í™”                            | REST API (POST/PUT) |
  | ë³µìˆ˜ í•„ë“œ ì§€ì›        | âŒ (ê°œë³„ í•„ë“œë§ˆë‹¤ ì§€ì •)    | âŒ                       | âœ… í•„ë“œ ìë™ ë°”ì¸ë”©                               | âœ… JSON êµ¬ì¡° ë§¤í•‘    |
  | MessageConverter ì‘ë™ | âŒ                         | âŒ                       | âŒ                                                | âœ… (Jackson ë“± ë™ì‘) |
  | DTO í´ë˜ìŠ¤ í•„ìš”       | ì„ íƒ                      | ì„ íƒ                    | âœ…                                                | âœ…                   |
  | ì–´ë…¸í…Œì´ì…˜ ìƒëµ ê°€ëŠ¥  | ì¼ë¶€ë§Œ (`@RequestParam`)  | âŒ                       | âœ… ê°€ëŠ¥                                           | âŒ                   |

  ------

  ### ğŸ§  4. ì‹¤ë¬´ ì „ëµ

  | ìƒí™©                         | ì¶”ì²œ ì–´ë…¸í…Œì´ì…˜   |
  | ---------------------------- | ----------------- |
  | ë‹¨ìˆœ GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°       | `@RequestParam`   |
  | RESTful URL ê²½ë¡œ ë³€ìˆ˜        | `@PathVariable`   |
  | HTML Form ì „ì†¡ (íšŒì›ê°€ì… ë“±) | `@ModelAttribute` |
  | JSON ê¸°ë°˜ REST API ìš”ì²­      | `@RequestBody`    |

  ------

  ### ğŸ“Œ 5. ìš”ì•½

  | ì–´ë…¸í…Œì´ì…˜        | ëª©ì                                                     |
  | ----------------- | ------------------------------------------------------- |
  | `@RequestParam`   | ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ ë˜ëŠ” í¼ í•„ë“œ ë‹¨ì¼ ê°’ ì¶”ì¶œ                   |
  | `@PathVariable`   | URL ê²½ë¡œ ê°’ ì¶”ì¶œ                                        |
  | `@ModelAttribute` | í¼ í•„ë“œ â†’ ê°ì²´ ìë™ ë°”ì¸ë”© (setter í•„ìˆ˜)                |
  | `@RequestBody`    | HTTP Body(JSON) â†’ ê°ì²´ ì—­ì§ë ¬í™” (MessageConverter í•„ìš”) |

## ì‘ë‹µ ì²˜ë¦¬

- ## `@ResponseBody`

  `@ResponseBody`ëŠ” Spring MVCì—ì„œ **ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì„ HTTP ì‘ë‹µ ë°”ë””ì— ì§ì ‘ ì¶œë ¥**í•˜ë„ë¡ ì§€ì •í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤.
   ê¸°ë³¸ì ìœ¼ë¡œ Spring MVCëŠ” ë°˜í™˜ê°’ì„ **ë·° ì´ë¦„ìœ¼ë¡œ í•´ì„**í•˜ì§€ë§Œ, `@ResponseBody`ë¥¼ ì‚¬ìš©í•˜ë©´
   **ë·°ë¥¼ ë Œë”ë§í•˜ì§€ ì•Šê³  ë°˜í™˜ê°’ì„ JSON, XML ë“±ìœ¼ë¡œ ì§ë ¬í™”í•˜ì—¬ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µ**í•©ë‹ˆë‹¤.

  ë‹¤ìŒì€ `@ResponseBody`ì˜ **ê°œë…, ë™ì‘ ì›ë¦¬, ì§ë ¬í™” ë°©ì‹, ì˜ˆì œ, MessageConverter ì—°ë™, RestControllerì™€ì˜ ê´€ê³„, ì‹¤ë¬´ ì „ëµ**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. @ResponseBodyë€?

  #### âœ… ì •ì˜

  `@ResponseBody`ëŠ” **ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë°˜í™˜ê°’ì„ HTTP ì‘ë‹µ ë³¸ë¬¸ì— ì§ì ‘ ì‘ì„±**í•˜ë„ë¡ ì§€ì‹œí•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.

  > ğŸ“Œ ViewResolverë¥¼ ê±°ì¹˜ì§€ ì•Šê³ , **HttpMessageConverterë¥¼ í†µí•´ JSON ë“±ìœ¼ë¡œ ë³€í™˜ëœ ê²°ê³¼ë¥¼ ì‘ë‹µ**ìœ¼ë¡œ ì „ì†¡

  ------

  ### ğŸ§± 2. ë™ì‘ ë°©ì‹

  ```
  @GetMapping("/hello")
  @ResponseBody
  public String hello() {
      return "hello";  // â†’ ë·°ê°€ ì•„ë‹ˆë¼ â†’ HTTP Body "hello"
  }
  ```

  #### ê¸°ë³¸ MVC íë¦„ vs @ResponseBody

  | ê¸°ë³¸ View ë°˜í™˜       | `@ResponseBody` ë°˜í™˜ |
  | -------------------- | -------------------- |
  | ViewResolver ì‘ë™    | âŒ ì‘ë™í•˜ì§€ ì•ŠìŒ      |
  | View ì´ë¦„ í•´ì„       | âŒ X                  |
  | í…œí”Œë¦¿ ì—”ì§„(JSP ë“±)  | âŒ ë Œë”ë§ ì—†ìŒ        |
  | HttpMessageConverter | âŒ ì—†ìŒ â†’ âœ… ì‘ë™í•¨    |

  ------

  ### ğŸ”§ 3. JSON ì‘ë‹µ ì˜ˆì œ

  ```
  @GetMapping("/user")
  @ResponseBody
  public User getUser() {
      return new User("kim", 30);
  }
  ```

  #### ì‘ë‹µ:

  ```
  {
    "name": "kim",
    "age": 30
  }
  ```

  â†’ ë‚´ë¶€ì ìœ¼ë¡œ `MappingJackson2HttpMessageConverter`ê°€ ì‘ë™í•˜ì—¬
   Java ê°ì²´ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ê³ , `Content-Type: application/json`ìœ¼ë¡œ ì‘ë‹µ

  ------

  ### ğŸ” 4. @RestControllerì™€ì˜ ê´€ê³„

  ```
  @RestController
  public class ApiController {
      @GetMapping("/user")
      public User getUser() { ... }
  }
  ```

  - `@RestController`ëŠ” **`@Controller + @ResponseBody`ì˜ ì¡°í•©**
  - ëª¨ë“  ë©”ì„œë“œì— ìë™ìœ¼ë¡œ `@ResponseBody`ê°€ ì ìš©ë¨
  - **REST API ê°œë°œ ì‹œ `@RestController` ì‚¬ìš©ì„ ê¶Œì¥**

  ------

  ### ğŸ§ª 5. ë‹¤ì–‘í•œ íƒ€ì… ë°˜í™˜

  | ë°˜í™˜ íƒ€ì…                | ê²°ê³¼                                         |
  | ------------------------ | -------------------------------------------- |
  | `String`                 | í…ìŠ¤íŠ¸ ì‘ë‹µ                                  |
  | `Object`                 | JSON/XML ì‘ë‹µ (MessageConverterì— ë”°ë¼ ë‹¤ë¦„) |
  | `List<T>`                | JSON ë°°ì—´                                    |
  | `Map<String, ?>`         | JSON ê°ì²´                                    |
  | `void` + `@ResponseBody` | 204 No Content ì‘ë‹µ                          |

  ------

  ### âš™ï¸ 6. ë‚´ë¶€ ë™ì‘: HttpMessageConverter

  Springì€ `@ResponseBody`ê°€ ì ìš©ëœ ë©”ì„œë“œì—ì„œ ë°˜í™˜ëœ ê°ì²´ë¥¼
   **ë‹¤ìŒ ìˆœì„œë¡œ ì²˜ë¦¬**í•œë‹¤:

  1. ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ì‹¤í–‰ â†’ ê°ì²´ ë°˜í™˜
  2. `HandlerMethodReturnValueHandler` â†’ `@ResponseBody` í™•ì¸
  3. ë“±ë¡ëœ `HttpMessageConverter` ì¤‘ ì ì ˆí•œ ê²ƒ ì„ íƒ
  4. Java ê°ì²´ë¥¼ JSON ë“±ìœ¼ë¡œ ì§ë ¬í™” â†’ HTTP ì‘ë‹µ ë°”ë””ì— ê¸°ë¡

  ------

  #### ğŸ“¦ ëŒ€í‘œ MessageConverterë“¤

  | Converter í´ë˜ìŠ¤                         | ì—­í•                |
  | ---------------------------------------- | ------------------ |
  | `StringHttpMessageConverter`             | `text/plain`       |
  | `MappingJackson2HttpMessageConverter`    | `application/json` |
  | `MappingJackson2XmlHttpMessageConverter` | `application/xml`  |

  ------

  ### âš ï¸ 7. ì£¼ì˜ì‚¬í•­

  | í•­ëª©                              | ì„¤ëª…                                               |
  | --------------------------------- | -------------------------------------------------- |
  | ë°˜í™˜ íƒ€ì…ì´ ë¬¸ìì—´ì¼ ê²½ìš°         | `"hello"` â†’ ê·¸ëŒ€ë¡œ ì‘ë‹µë¨ (`View ì´ë¦„ ì•„ë‹˜`)       |
  | ê°ì²´ ë°˜í™˜ ì‹œ Jackson í•„ìš”         | `jackson-databind`ê°€ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ìˆì–´ì•¼ í•¨        |
  | ResponseBody ìƒëµ ì‹œ ë·° í•´ì„ë¨    | â†’ `@RestController` ë˜ëŠ” `@ResponseBody` ëª…ì‹œ í•„ìˆ˜ |
  | ë¬¸ìì—´ì´ JSONìœ¼ë¡œ ì§ë ¬í™”ë˜ì§€ ì•ŠìŒ | â†’ ê°ì²´ ë°˜í™˜í•´ì•¼ JSON ê°€ëŠ¥ (`new User(...)`)        |

  ------

  ### âœ… 8. ì‹¤ë¬´ ì „ëµ

  | ìƒí™©                              | ì „ëµ                                                         |
  | --------------------------------- | ------------------------------------------------------------ |
  | REST API ì»¨íŠ¸ë¡¤ëŸ¬                 | `@RestController` ì‚¬ìš© (ìë™ JSON)                           |
  | HTML ë·° ë Œë”ë§ ì»¨íŠ¸ë¡¤ëŸ¬           | `@Controller + return "view"` ì‚¬ìš©                           |
  | ë‹¨ì¼ JSON ì‘ë‹µ                    | `@ResponseBody` + ê°ì²´ ë°˜í™˜                                  |
  | ë¬¸ìì—´ í…ìŠ¤íŠ¸ ì‘ë‹µ (`text/plain`) | `@ResponseBody` + `String` ë°˜í™˜ ë˜ëŠ” `ResponseEntity<String>` ì‚¬ìš© |

  ------

  ### ğŸ“Œ 9. ìš”ì•½

  | í•­ëª©                    | ì„¤ëª…                                              |
  | ----------------------- | ------------------------------------------------- |
  | ì •ì˜                    | ë°˜í™˜ê°’ì„ Viewê°€ ì•„ë‹Œ HTTP Bodyë¡œ ì§ì ‘ ì „ì†¡        |
  | ìë™ ë³€í™˜               | JSON/XML ë“±ì€ HttpMessageConverterê°€ ì²˜ë¦¬         |
  | RestControllerì™€ì˜ ê´€ê³„ | `@RestController` = `@Controller + @ResponseBody` |
  | ì‹¤ë¬´ í™œìš©               | REST API ì‘ë‹µ, Ajax ì‘ë‹µ, JSON í†µì‹  ë“±ì—ì„œ í•„ìˆ˜   |

- ## JSON ì§ë ¬í™”

  **JSON ì§ë ¬í™”(JSON Serialization)**ëŠ” ìë°” ê°ì²´(Java Object)ë¥¼ **JSON ë¬¸ìì—´(String)**ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.
   Springì—ì„œëŠ” ì´ ì‘ì—…ì„ ëŒ€ë¶€ë¶„ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©°, ì£¼ë¡œ **HTTP ì‘ë‹µ(`@ResponseBody`)**, **íŒŒì¼ ì €ì¥**, **API í†µì‹ **ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.

  ë‹¤ìŒì€ **JSON ì§ë ¬í™”ì˜ ê°œë…, Jackson ë™ì‘ ë°©ì‹, ì£¼ìš” ì• ë„ˆí…Œì´ì…˜, ì§ë ¬í™” ì œì–´, Spring ì—°ë™ êµ¬ì¡°, ì‹¤ë¬´ íŠœë‹ ì „ëµ**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. JSON ì§ë ¬í™”ë€?

  - **Java ê°ì²´ â†’ JSON ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •**
  - ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ê°ì²´ëŠ”:

  ```
  public class User {
      private String name = "kim";
      private int age = 30;
  }
  ```

  â†’ JSON ì§ë ¬í™” ê²°ê³¼:

  ```
  {
    "name": "kim",
    "age": 30
  }
  ```

  ------

  ### ğŸ” 2. JSON ì—­ì§ë ¬í™”ë€?

  - **JSON ë¬¸ìì—´ â†’ Java ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •**

  ```
  { "name": "kim", "age": 30 }
  ```

  â†’ `User` ê°ì²´ë¡œ ì—­ë³€í™˜ë¨

  â†’ ì—­ì§ë ¬í™” ì‹œ **ê¸°ë³¸ ìƒì„±ì + ì„¸í„° or í•„ë“œ ì ‘ê·¼** í•„ìš”

  ------

  ### ğŸ”§ 3. Jackson: Spring ê¸°ë³¸ JSON ì§ë ¬í™” ì—”ì§„

  | í•­ëª©             | ì„¤ëª…                                                         |
  | ---------------- | ------------------------------------------------------------ |
  | ê¸°ë³¸ ì—”ì§„        | Jackson (`com.fasterxml.jackson`)                            |
  | ì£¼ìš” í´ë˜ìŠ¤      | `ObjectMapper`, `JsonGenerator`, `JsonParser`                |
  | ìŠ¤í”„ë§ í†µí•© ë°©ì‹ | `MappingJackson2HttpMessageConverter` ìë™ ë“±ë¡              |
  | Maven ì˜ì¡´ì„±     | Spring Boot ìŠ¤íƒ€í„°ì— ìë™ í¬í•¨ë¨ (`spring-boot-starter-web`) |

  ------

  ### ğŸ§ª 4. ì˜ˆì œ: ê°ì²´ â†’ JSON

  ```
  ObjectMapper mapper = new ObjectMapper();
  
  User user = new User("kim", 30);
  String json = mapper.writeValueAsString(user);
  System.out.println(json);
  ```

  â†’ ê²°ê³¼:

  ```
  {"name":"kim","age":30}
  ```

  ------

  ### âš™ï¸ 5. JSON ì§ë ¬í™” ì¡°ê±´

  | ì¡°ê±´                     | ì„¤ëª…                                                         |
  | ------------------------ | ------------------------------------------------------------ |
  | ê¸°ë³¸ ìƒì„±ì ì¡´ì¬         | Jacksonì´ ë‚´ë¶€ì ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•¨                      |
  | getter ë˜ëŠ” public field | í•„ë“œ ì ‘ê·¼í•˜ì—¬ JSON í•„ë“œ êµ¬ì„±                                 |
  | ìˆœí™˜ ì°¸ì¡° ì—†ìŒ           | ë¬´í•œ ë£¨í”„ ë°©ì§€ í•„ìš” (`@JsonIgnore`, `@JsonManagedReference` ë“±) |
  | í•„ë“œ íƒ€ì… ì§ë ¬í™” ê°€ëŠ¥    | `Date`, `enum` ë“±ë„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•„ìš”í•  ìˆ˜ ìˆìŒ              |

  ------

  ### ğŸ§© 6. ì£¼ìš” Jackson ì• ë„ˆí…Œì´ì…˜

  | ì• ë„ˆí…Œì´ì…˜                                     | ì„¤ëª…                                  |
  | ---------------------------------------------- | ------------------------------------- |
  | `@JsonProperty`                                | í•„ë“œ ì´ë¦„ ì§€ì • (`snake_case` ë“± ê°€ëŠ¥) |
  | `@JsonIgnore`                                  | í•´ë‹¹ í•„ë“œ ì§ë ¬í™” ì œì™¸                 |
  | `@JsonInclude(Include.NON_NULL)`               | null ì œì™¸                             |
  | `@JsonFormat(pattern = "...")`                 | ë‚ ì§œ/ì‹œê°„ í˜•ì‹ ì§€ì •                   |
  | `@JsonUnwrapped`                               | ì¤‘ì²© ê°ì²´ì˜ í•„ë“œë¥¼ í‰ë©´í™”             |
  | `@JsonManagedReference` / `@JsonBackReference` | ì–‘ë°©í–¥ ì°¸ì¡° ë°©ì§€                      |

  ------

  #### ì˜ˆì œ:

  ```
  public class User {
      @JsonProperty("user_name")
      private String name;
  
      @JsonIgnore
      private String password;
  
      @JsonInclude(JsonInclude.Include.NON_NULL)
      private String nickname;
  
      @JsonFormat(pattern = "yyyy-MM-dd")
      private LocalDate birthDate;
  }
  ```

  ------

  ### ğŸ§± 7. Spring Bootì—ì„œ ìë™ ì§ë ¬í™” íë¦„

  ```
  ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ â†’ @ResponseBody or @RestController â†’ 
  MappingJackson2HttpMessageConverter â†’
  ObjectMapper â†’ JSON ë¬¸ìì—´ ìƒì„± â†’
  HTTP ì‘ë‹µ ë°”ë””ì— ì‘ì„±
  ```

  #### ì˜ˆ:

  ```
  @GetMapping("/user")
  public User getUser() {
      return new User("kim", 30);
  }
  ```

  â†’ ê²°ê³¼:

  ```
  { "name": "kim", "age": 30 }
  ```

  ------

  ### ğŸ§° 8. ì»¤ìŠ¤í„°ë§ˆì´ì§• ObjectMapper

  #### ì „ì—­ ì„¤ì • (Spring Boot 2.x ì´í›„)

  ```
  @Configuration
  public class JacksonConfig {
      @Bean
      public ObjectMapper objectMapper() {
          return JsonMapper.builder()
              .propertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE)
              .serializationInclusion(JsonInclude.Include.NON_NULL)
              .build();
      }
  }
  ```

  #### application.yml

  ```
  spring:
    jackson:
      property-naming-strategy: SNAKE_CASE
      serialization:
        indent_output: true
        fail-on-empty-beans: false
  ```

  ------

  ### ğŸ§  9. ì‹¤ë¬´ ì „ëµ

  | ì „ëµ                            | ì„¤ëª…                                                |
  | ------------------------------- | --------------------------------------------------- |
  | **DTO ì „ìš© ì§ë ¬í™” í´ë˜ìŠ¤ ì‚¬ìš©** | Entity ì§ì ‘ ë°˜í™˜ X (ì§€ì—° ë¡œë”©, ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ ë°©ì§€) |
  | **null í•„ë“œ ì œì™¸**              | `@JsonInclude` ì‚¬ìš©ìœ¼ë¡œ ê²½ëŸ‰í™”                      |
  | **ë‚ ì§œ í¬ë§· ëª…ì‹œ**              | `@JsonFormat` ë˜ëŠ” ê¸€ë¡œë²Œ ì„¤ì •                      |
  | **ìˆœí™˜ ì°¸ì¡° ì£¼ì˜**              | ì–‘ë°©í–¥ ê´€ê³„ ì‹œ `@JsonIgnore`, DTO ë¶„ë¦¬              |
  | **Enum ë³€í™˜ ì§€ì •**              | `@JsonValue`, `@JsonCreator` ì‚¬ìš©                   |

  ------

  ### ğŸ“Œ 10. ìš”ì•½

  | í•­ëª©            | ì„¤ëª…                                                    |
  | --------------- | ------------------------------------------------------- |
  | ì •ì˜            | Java ê°ì²´ â†’ JSON ë¬¸ìì—´ ë³€í™˜                            |
  | ì—”ì§„            | Jackson (`ObjectMapper`)                                |
  | ìŠ¤í”„ë§ ì—°ë™     | `@ResponseBody`, `@RequestBody`, `HttpMessageConverter` |
  | ì£¼ìš” ì• ë„ˆí…Œì´ì…˜ | `@JsonProperty`, `@JsonIgnore`, `@JsonFormat` ë“±        |
  | ì‹¤ë¬´ ì „ëµ       | DTO ì‚¬ìš©, null ì œê±°, ìˆœí™˜ì°¸ì¡° íšŒí”¼, ë‚ ì§œ í¬ë§· ì§€ì • ë“±   |

## View Resolver

- ## Thymeleaf, JSP

  `Thymeleaf`ì™€ `JSP`ëŠ” ëª¨ë‘ **ì„œë²„ì‚¬ì´ë“œ í…œí”Œë¦¿ ì—”ì§„(Server-Side Template Engine)**ìœ¼ë¡œ,
   Java ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ **HTML í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±**í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
   í•˜ì§€ë§Œ ì´ ë‘ ê¸°ìˆ ì€ **ì² í•™, êµ¬ì¡°, ì¥ë‹¨ì , í˜„ëŒ€ ì›¹ê³¼ì˜ í˜¸í™˜ì„±** ì¸¡ë©´ì—ì„œ í° ì°¨ì´ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

  ë‹¤ìŒì€ **Thymeleaf vs JSP**ì— ëŒ€í•œ **ê°œë…, ë™ì‘ ì›ë¦¬, ë¬¸ë²• ë¹„êµ, ì¥ë‹¨ì , Spring Boot ì—°ë™ ì „ëµ, ì‹¤ë¬´ ì¶”ì²œ**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. ì •ì˜ ë¹„êµ

  | í•­ëª©      | Thymeleaf                               | JSP (Java Server Pages)               |
  | --------- | --------------------------------------- | ------------------------------------- |
  | ì •ì˜      | HTML ê¸°ë°˜ì˜ í˜„ëŒ€ì  í…œí”Œë¦¿ ì—”ì§„          | ìë°” ì½”ë“œê°€ ì‚½ì…ëœ ì„œë²„ì¸¡ HTML ë¬¸ì„œ   |
  | íŠ¹ì§•      | XML/HTML ë¬¸ë²• ì™„ì „ ì¤€ìˆ˜, ë·°-ë””ìì¸ ë¶„ë¦¬ | HTML ë‚´ë¶€ì— Java ì½”ë“œ (`<% %>`) ê°€ëŠ¥  |
  | ëŒ€í‘œ ëª©ì  | Spring MVCì™€ HTML ë·° ë Œë”ë§             | ì „í†µì ì¸ Servlet/JSP êµ¬ì¡° ê¸°ë°˜ ë Œë”ë§ |

  ------

  ### âš™ï¸ 2. ë™ì‘ êµ¬ì¡° ë¹„êµ

  #### âœ… JSP ë™ì‘ êµ¬ì¡°

  ```
  ìš”ì²­ â†’ DispatcherServlet â†’ InternalResourceViewResolver
       â†’ *.jsp ì»´íŒŒì¼ â†’ Servlet â†’ HTML ìƒì„± â†’ ì‘ë‹µ
  ```

  #### âœ… Thymeleaf ë™ì‘ êµ¬ì¡°

  ```
  ìš”ì²­ â†’ DispatcherServlet â†’ ThymeleafViewResolver
       â†’ HTML + í…œí”Œë¦¿ ì—”ì§„ í•´ì„ â†’ HTML ìƒì„± â†’ ì‘ë‹µ
  ```

  ------

  ### ğŸ§© 3. ë¬¸ë²• ë¹„êµ

  #### âœ… ë³€ìˆ˜ ì¶œë ¥

  | ì—”ì§„      | ë¬¸ë²•                                                       |
  | --------- | ---------------------------------------------------------- |
  | Thymeleaf | `${user.name}` â†’ `<span th:text="${user.name}"></span>`    |
  | JSP       | `${user.name}` â†’ `${user.name}` or `<%= user.getName() %>` |

  ------

  #### âœ… ì¡°ê±´ë¬¸

  #### Thymeleaf:

  ```
  <div th:if="${user != null}">Hello</div>
  ```

  #### JSP:

  ```
  jspì½”ë“œ ë³µì‚¬<c:if test="${user != null}">
      Hello
  </c:if>
  ```

  ------

  #### âœ… ë°˜ë³µë¬¸

  #### Thymeleaf:

  ```
  <tr th:each="item : ${items}">
    <td th:text="${item.name}"></td>
  </tr>
  ```

  #### JSP:

  ```
  <c:forEach var="item" items="${items}">
    <td>${item.name}</td>
  </c:forEach>
  ```

  ------

  ### ğŸ”§ 4. Spring Boot ì—°ë™ ë¹„êµ

  #### âœ… Thymeleaf ì„¤ì • (Spring Boot)

  ```
  implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
  ```

  - ê¸°ë³¸ ê²½ë¡œ: `src/main/resources/templates/`
  - ê¸°ë³¸ í™•ì¥ì: `.html`

  ------

  #### âœ… JSP ì„¤ì • (Spring Boot, ê¶Œì¥ X)

  ```
  implementation 'org.apache.tomcat.embed:tomcat-embed-jasper'
  ```

  - ê¸°ë³¸ ê²½ë¡œ: `/WEB-INF/views/`
  - ë³„ë„ ì„¤ì • í•„ìš”: JSPëŠ” Spring Boot ê¸°ë³¸ ë·° ë¦¬ì¡¸ë²„ ëŒ€ìƒì´ ì•„ë‹˜

  ------

  ### ğŸ” 5. ì¥ë‹¨ì  ë¹„êµ

  | í•­ëª©           | Thymeleaf                                    | JSP                         |
  | -------------- | -------------------------------------------- | --------------------------- |
  | HTML í˜¸í™˜ì„±    | âœ… HTML5 ì™„ì „ í˜¸í™˜ (ë””ìì´ë„ˆ í˜‘ì—… ìš©ì´)       | âŒ HTMLë¡œ ë°”ë¡œ ì‹¤í–‰ ë¶ˆê°€ëŠ¥   |
  | ë””ìì¸/ë·° ë¶„ë¦¬ | âœ… ê°€ëŠ¥                                       | âŒ Java ì½”ë“œ í˜¼ì¬ ê°€ëŠ¥       |
  | ìœ ì§€ë³´ìˆ˜       | âœ… ì‰½ê³  ëª…í™•í•¨                                | âŒ ë³µì¡í•œ ë·°ì—ì„œëŠ” í˜¼ë€ ê°€ëŠ¥ |
  | IDE ë¯¸ë¦¬ë³´ê¸°   | âœ… HTML ìì²´ë¡œ ì—´ë¦¼                           | âŒ JSPëŠ” ì»´íŒŒì¼ í•„ìš”         |
  | REST/SPA ì—°ê³„  | âœ… ThymeleafëŠ” fragment, layout, ajax ë“± ì§€ì› | âŒ êµ¬ì¡°ì ìœ¼ë¡œ í•œê³„ ìˆìŒ      |
  | ì†ë„/ì„±ëŠ¥      | ì¡°ê¸ˆ ëŠë¦¼ (HTML íŒŒì‹±)                        | ë¹ ë¦„ (ì„œë¸”ë¦¿ ë³€í™˜)          |
  | ìµœì‹  í‘œì¤€ ì§€ì› | âœ… Spring ê³µì‹ ì§€ì›                           | âš ï¸ Spring Bootì—ì„œ ë¹„ê¶Œì¥    |

  ------

  ### ğŸš« 6. Spring Bootì—ì„œ JSPê°€ ë¹„ê¶Œì¥ë˜ëŠ” ì´ìœ 

  - Spring BootëŠ” ë‚´ì¥ í†°ìº£ êµ¬ì¡°ìƒ JSPë¥¼ ê¸°ë³¸ ì§€ì›í•˜ì§€ ì•ŠìŒ
  - WAR íŒ¨í‚¤ì§•ì´ í•„ìš”í•˜ë©°, `src/main/webapp/WEB-INF/` ê²½ë¡œë„ ê°•ì œë¨
  - **JSPëŠ” ì„œë¸”ë¦¿ ì¢…ì†ì ì´ë©°, Spring MVCì˜ êµ¬ì¡°ì  ì´ì ê³¼ ì¶©ëŒì´ ë§ìŒ**

  > ğŸ“Œ ì‹¤ë¬´ì—ì„œëŠ” **Thymeleaf ë˜ëŠ” ì™¸ë¶€ í”„ë¡ íŠ¸ì—”ë“œ(React, Vue ë“±) + REST API** ì¡°í•©ì´ í‘œì¤€

  ------

  ### âœ… 7. ì‹¤ë¬´ ì¶”ì²œ ì „ëµ

  | ìƒí™©                       | ì¶”ì²œ                              |
  | -------------------------- | --------------------------------- |
  | Spring Boot ê¸°ë°˜ ì›¹ ì„œë¹„ìŠ¤ | âœ… **Thymeleaf** ì‚¬ìš©              |
  | ë ˆê±°ì‹œ í”„ë¡œì íŠ¸ ìœ ì§€ë³´ìˆ˜   | JSP ì‚¬ìš© ê°€ëŠ¥ (ê°€ê¸‰ì  ê°œì„  í•„ìš”)  |
  | ë””ìì´ë„ˆì™€ì˜ í˜‘ì—… í•„ìš”     | âœ… Thymeleaf (ì •ì  HTML ì‘ì—… ê°€ëŠ¥) |
  | REST API + SPA ê°œë°œ        | âœ… JSON API + Vue/Reactë¡œ ë¶„ë¦¬     |
  | ë³µì¡í•œ ë·° ë ˆì´ì•„ì›ƒ         | âœ… Thymeleaf Fragment/Layout ì‚¬ìš©  |

  ------

  ### ğŸ“Œ 8. ìš”ì•½

  | í•­ëª©             | Thymeleaf         | JSP                             |
  | ---------------- | ----------------- | ------------------------------- |
  | HTML ì •í•©ì„±      | âœ… HTML5 ì™„ì „ ì§€ì› | âŒ ìŠ¤í¬ë¦½í‹€ë¦¿ í˜¼í•©ìœ¼ë¡œ ê¹¨ì§ ê°€ëŠ¥ |
  | MVC êµ¬ì¡°         | âœ… ë¶„ë¦¬ ì² ì €       | âŒ ë·°ì— ë¡œì§ í¬í•¨ ìš°ë ¤           |
  | Spring Boot ì§€ì› | âœ… ê¸°ë³¸ ë‚´ì¥       | âŒ ë³„ë„ ì„¤ì • í•„ìš” + ë¹„ê¶Œì¥       |
  | ìœ ì§€ë³´ìˆ˜         | âœ… ìƒì‚°ì„± ë†’ìŒ     | âŒ ë³µì¡ë„ â†‘                      |

## ìœ íš¨ì„± ê²€ì‚¬

- ## `@Valid`, `@Validated`

  `@Valid`ì™€ `@Validated`ëŠ” Springì—ì„œ **ì…ë ¥ê°’ ê²€ì¦(Validation)**ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì…ë‹ˆë‹¤.
   ë‘˜ ë‹¤ Java Bean Validation(JSR-380)ì˜ ê¸°ë°˜ ìœ„ì—ì„œ ì‘ë™í•˜ë©°, ì£¼ë¡œ **Controllerì˜ ìš”ì²­ DTO ê²€ì¦**, **Service ê³„ì¸µì˜ ë©”ì„œë“œ íŒŒë¼ë¯¸í„° ê²€ì¦** ë“±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

  ë‹¤ìŒì€ `@Valid`ì™€ `@Validated`ì˜ **ê³µí†µì , ì°¨ì´ì , ì ìš© ìœ„ì¹˜, ë‚´ë¶€ ë™ì‘, ê·¸ë£¹ ê²€ì¦, ì‹¤ë¬´ ì „ëµ, Bean Validation ì—°ë™ êµ¬ì¡°**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. ê³µí†µì  ìš”ì•½

  | í•­ëª©        | `@Valid` / `@Validated` ê³µí†µ                             |
  | ----------- | -------------------------------------------------------- |
  | ê¸°ë°˜ ê¸°ìˆ    | Bean Validation(JSR-303/JSR-380)                         |
  | ëŒ€ìƒ        | DTO í•„ë“œ, ë©”ì„œë“œ íŒŒë¼ë¯¸í„°, ë©”ì„œë“œ ë¦¬í„´ ê°’ ë“±             |
  | ì‘ë™ ë°©ì‹   | `javax.validation.Validator`ë¥¼ í†µí•´ ìë™ ê²€ì¦            |
  | ìŠ¤í”„ë§ í†µí•© | Spring MVCì—ì„œ AOP ê¸°ë°˜ ìë™ ê²€ì¦ ì§€ì› (`BindingResult`) |

  ------

  ### ğŸ§¾ 2. `@Valid`

  #### âœ… ì •ì˜

  - JSR-380(Bean Validation)ì˜ í‘œì¤€ ì–´ë…¸í…Œì´ì…˜
  - `javax.validation.Valid` íŒ¨í‚¤ì§€
  - **ê¸°ë³¸ ê²€ì¦ë§Œ ê°€ëŠ¥**, ê·¸ë£¹ ì§€ì • ë¶ˆê°€ëŠ¥

  #### âœ… ì‚¬ìš© ìœ„ì¹˜

  - í•„ë“œ, ë©”ì„œë“œ ì¸ì, ìƒì„±ì, ë¦¬í„´ ê°’

  #### âœ… ì˜ˆì‹œ

  ```
  @PostMapping("/users")
  public String createUser(@Valid @RequestBody UserDto dto, BindingResult result) {
      if (result.hasErrors()) {
          return "error";
      }
      ...
  }
  ```

  ------

  ### ğŸ“‹ 3. `@Validated`

  #### âœ… ì •ì˜

  - Spring ì „ìš© ì–´ë…¸í…Œì´ì…˜ (`org.springframework.validation.annotation.Validated`)
  - `@Valid` ê¸°ëŠ¥ + **ê²€ì¦ ê·¸ë£¹(grouping)** ê¸°ëŠ¥ ì œê³µ

  #### âœ… íŠ¹ì§•

  - ê·¸ë£¹ ê¸°ë°˜ ìœ íš¨ì„± ê²€ì‚¬ ê°€ëŠ¥ (`@Validated(Group1.class)` ë“±)
  - ì¼ë°˜ì ìœ¼ë¡œ **ì„œë¹„ìŠ¤ ê³„ì¸µ, ë©”ì„œë“œ ë ˆë²¨ ê²€ì¦**ì— ìì£¼ ì‚¬ìš©ë¨

  #### âœ… ì˜ˆì‹œ

  ```
  @Validated(Group1.class)
  @PostMapping("/users")
  public String create(@RequestBody @Validated(Group1.class) UserDto dto) {
      ...
  }
  ```

  ------

  ### ğŸ” 4. ì°¨ì´ì  ìš”ì•½

  | í•­ëª©                    | `@Valid`                  | `@Validated`                                          |
  | ----------------------- | ------------------------- | ----------------------------------------------------- |
  | íŒ¨í‚¤ì§€                  | `javax.validation.Valid`  | `org.springframework.validation.annotation.Validated` |
  | í‘œì¤€ ì—¬ë¶€               | âœ… JSR í‘œì¤€                | âŒ Spring ì „ìš©                                         |
  | ê²€ì¦ ê·¸ë£¹ ì§€ì›          | âŒ ë¶ˆê°€ëŠ¥                  | âœ… ê·¸ë£¹ ë¶„ë¥˜ ê°€ëŠ¥                                      |
  | ì‚¬ìš© ìœ„ì¹˜               | DTO, í•„ë“œ, ë©”ì„œë“œ ì¸ì ë“± | ì£¼ë¡œ Controller, Service ë©”ì„œë“œ ì¸ì ë“±               |
  | ì¼ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê²€ì¦      | âœ… ê°€ëŠ¥                    | âœ… ê°€ëŠ¥                                                |
  | ë©”ì„œë“œ/í´ë˜ìŠ¤ ë ˆë²¨ ê²€ì¦ | âŒ ê±°ì˜ ì•ˆ ì”€              | âœ… ë§ì´ ì‚¬ìš©                                           |

  ------

  ### ğŸ§ª 5. DTO ê²€ì¦ ì˜ˆì œ

  ```
  public class UserDto {
      @NotBlank
      private String name;
  
      @Min(18)
      private int age;
  }
  ```

  ```
  @PostMapping("/user")
  public ResponseEntity<?> createUser(@Valid @RequestBody UserDto dto,
                                      BindingResult bindingResult) {
      if (bindingResult.hasErrors()) {
          return ResponseEntity.badRequest().body(bindingResult.getAllErrors());
      }
      ...
  }
  ```

  ------

  ### ğŸ¯ 6. ê²€ì¦ ê·¸ë£¹ ì˜ˆì œ (`@Validated` ì „ìš©)

  #### DTO

  ```
  public class UserDto {
  
      @NotBlank(groups = Create.class)
      private String name;
  
      @Min(value = 18, groups = Update.class)
      private int age;
  
      public interface Create {}
      public interface Update {}
  }
  ```

  #### ì»¨íŠ¸ë¡¤ëŸ¬

  ```
  @PostMapping("/user")
  public void create(@Validated(UserDto.Create.class) @RequestBody UserDto dto) {
      ...
  }
  ```

  ------

  ### ğŸ§° 7. ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ `@Validated` ì‚¬ìš©

  ```
  @Service
  @Validated
  public class UserService {
  
      public void save(@Valid UserDto dto) {
          // ë‚´ë¶€ì—ì„œë„ ê²€ì¦ë¨
      }
  }
  ```

  â†’ Service ê³„ì¸µì—ì„œë„ Spring AOPê°€ ë¶™ì–´ **`MethodValidationPostProcessor`ê°€ ì‘ë™**í•˜ì—¬ ê²€ì¦ ìˆ˜í–‰

  ------

  ### âš ï¸ 8. ì£¼ì˜ì‚¬í•­

  | í•­ëª©                                            | ì„¤ëª…                                   |
  | ----------------------------------------------- | -------------------------------------- |
  | `@Valid`ëŠ” ê·¸ë£¹ ê²€ì¦ ë¶ˆê°€                       | â†’ `@Validated`ë¡œ ëŒ€ì²´í•´ì•¼ í•¨           |
  | `@Valid` ìƒëµ ì‹œ ìë™ ê²€ì¦ ì‘ë™ ì•ˆ í•¨           | MVC ìë™ ê²€ì¦ì€ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜        |
  | `BindingResult` ì—†ìœ¼ë©´ ì˜ˆì™¸ ë°œìƒ                | `MethodArgumentNotValidException` ë°œìƒ |
  | ì„œë¹„ìŠ¤ ë©”ì„œë“œì—ëŠ” `@Validated` í´ë˜ìŠ¤ ë ˆë²¨ í•„ìš” | ë©”ì„œë“œ íŒŒë¼ë¯¸í„° ê²€ì¦ì„ ìœ„í•´ì„œ          |

  ------

  ### ğŸ“Œ 9. ìš”ì•½

  | í•­ëª©        | `@Valid`                                             | `@Validated`                         |
  | ----------- | ---------------------------------------------------- | ------------------------------------ |
  | í‘œì¤€ ì—¬ë¶€   | âœ… JSR-380 í‘œì¤€                                       | âŒ Spring ì „ìš©                        |
  | ê·¸ë£¹ ê²€ì¦   | âŒ ë¶ˆê°€ëŠ¥                                             | âœ… ê°€ëŠ¥ (`groups = ...`)              |
  | DTO ê²€ì¦    | âœ… ìì£¼ ì‚¬ìš©                                          | âœ… (ê·¸ë£¹ í•„ìš”í•  ë•Œë§Œ)                 |
  | ì„œë¹„ìŠ¤ ê²€ì¦ | âŒ ê±°ì˜ ì•ˆ ì”€                                         | âœ… í´ë˜ìŠ¤ ë ˆë²¨ì— ë¶™ì´ë©´ ë©”ì„œë“œë„ ê²€ì¦ |
  | ì¶”ì²œ ì „ëµ   | ì¼ë°˜ ê²€ì¦: `@Valid` / ê·¸ë£¹Â·ì„œë¹„ìŠ¤ ê²€ì¦: `@Validated` |                                      |

- ## `BindingResult`

  `BindingResult`ëŠ” Spring MVCì—ì„œ **ì…ë ¥ê°’ ê²€ì¦(@Valid, @Validated)** ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´ë¡œ,
   **ê²€ì¦ ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•Šê³  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì§ì ‘ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ** í•´ì£¼ëŠ” ë§¤ìš° ì¤‘ìš”í•œ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.

  ë‹¤ìŒì€ `BindingResult`ì˜ **ê°œë…, ë™ì‘ ì›ë¦¬, ì‚¬ìš© ì¡°ê±´, ì˜ˆì œ, ê²€ì¦ íë¦„, ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•, ì‹¤ë¬´ ì „ëµ**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. `BindingResult`ë€?

  #### âœ… ì •ì˜

  - `org.springframework.validation.BindingResult`ëŠ”
     `@Valid` ë˜ëŠ” `@Validated`ë¡œ ìˆ˜í–‰ëœ **ê²€ì¦ ê²°ê³¼(ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨)ë¥¼ ë³´ê´€í•˜ëŠ” ê°ì²´**
  - **ì…ë ¥ê°’ ê²€ì¦ì´ ì‹¤íŒ¨í•˜ë”ë¼ë„ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šê³ **
     ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ë¶€ì—ì„œ ììœ ë¡­ê²Œ ê²°ê³¼ë¥¼ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì¤Œ

  ------

  ### ğŸ”„ 2. ë™ì‘ êµ¬ì¡°

  ```
  @PostMapping("/user")
  public String saveUser(@Valid UserDto dto, BindingResult bindingResult) {
      if (bindingResult.hasErrors()) {
          // ê²€ì¦ ì‹¤íŒ¨ ì‹œ ìˆ˜í–‰ ë¡œì§
      }
      // ê²€ì¦ í†µê³¼ ì‹œ ìˆ˜í–‰ ë¡œì§
  }
  ```

  > âœ… **`@Valid`ì™€ `BindingResult`ëŠ” í•­ìƒ ì—°ì†í•´ì„œ ë¶™ì–´ì•¼ ë™ì‘**
  >  â†’ íŒŒë¼ë¯¸í„° ìˆœì„œ: `@Valid` â†’ `BindingResult`

  ------

  ### ğŸ§ª 3. ê¸°ë³¸ ì‚¬ìš© ì˜ˆ

  #### DTO:

  ```
  public class UserDto {
      @NotBlank
      private String name;
  
      @Min(18)
      private int age;
  }
  ```

  #### ì»¨íŠ¸ë¡¤ëŸ¬:

  ```
  @PostMapping("/users")
  public String createUser(@Valid @RequestBody UserDto dto, BindingResult result) {
      if (result.hasErrors()) {
          for (FieldError error : result.getFieldErrors()) {
              System.out.println("ì—ëŸ¬ í•„ë“œ: " + error.getField());
              System.out.println("ë©”ì‹œì§€: " + error.getDefaultMessage());
          }
          return "error";
      }
      return "ok";
  }
  ```

  ------

  ### âš ï¸ 4. ì˜ˆì™¸ vs BindingResult

  | ì¡°ê±´                       | ë™ì‘                                                         |
  | -------------------------- | ------------------------------------------------------------ |
  | `@Valid`ë§Œ ìˆì„ ë•Œ         | ê²€ì¦ ì‹¤íŒ¨ ì‹œ â†’ ì˜ˆì™¸ ë°œìƒ (`MethodArgumentNotValidException`) |
  | `@Valid` + `BindingResult` | ê²€ì¦ ì‹¤íŒ¨ ì‹œ â†’ ì˜ˆì™¸ ì—†ìŒ, `bindingResult.hasErrors() == true` |

  â†’ ì¦‰, `BindingResult`ê°€ ìˆìœ¼ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ **ì§ì ‘ ì—ëŸ¬ ì²˜ë¦¬**í•  ìˆ˜ ìˆê³ 
   ì—†ìœ¼ë©´ **Springì´ ì˜ˆì™¸ë¥¼ ë˜ì§** â†’ ì˜ˆì™¸ ì²˜ë¦¬ê¸°(`@ExceptionHandler`)ë¡œ ë„˜ê¹€

  ------

  ### ğŸ“‹ 5. ìœ ìš©í•œ ë©”ì„œë“œ

  | ë©”ì„œë“œ                              | ì„¤ëª…                                      |
  | ----------------------------------- | ----------------------------------------- |
  | `hasErrors()`                       | ì—ëŸ¬ê°€ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ true               |
  | `hasFieldErrors("name")`            | íŠ¹ì • í•„ë“œì— ì—ëŸ¬ê°€ ìˆëŠ”ì§€ í™•ì¸            |
  | `getAllErrors()`                    | ì „ì²´ ì—ëŸ¬ ëª©ë¡ (`ObjectError` ë¦¬ìŠ¤íŠ¸)     |
  | `getFieldErrors()`                  | í•„ë“œ ê²€ì¦ ì‹¤íŒ¨ ëª©ë¡ (`FieldError` ë¦¬ìŠ¤íŠ¸) |
  | `getGlobalErrors()`                 | ì „ì²´ ê°ì²´ì— ëŒ€í•œ ì—ëŸ¬                     |
  | `getFieldValue("name")`             | ë°”ì¸ë”©ëœ í•„ë“œì˜ ì‹¤ì œ ê°’                   |
  | `rejectValue("name", "error.code")` | ìˆ˜ë™ìœ¼ë¡œ ì—ëŸ¬ ë“±ë¡ ê°€ëŠ¥                   |

  ------

  ### ğŸ§  6. ì‹¤ë¬´ íŒ¨í„´: ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥

  ```
  for (FieldError fieldError : result.getFieldErrors()) {
      String field = fieldError.getField();
      String message = fieldError.getDefaultMessage();
      model.addAttribute(field + "Error", message);
  }
  ```

  ------

  ### ğŸ” 7. `@ModelAttribute`ì™€ë„ í˜¸í™˜

  ```
  @PostMapping("/register")
  public String register(@ModelAttribute @Valid UserForm form,
                         BindingResult bindingResult) {
      if (bindingResult.hasErrors()) {
          return "registerForm";
      }
      ...
  }
  ```

  â†’ `@RequestParam` ë˜ëŠ” `@ModelAttribute` ê¸°ë°˜ í¼ ë°”ì¸ë”©ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥

  ------

  ### ğŸ§¾ 8. API ì‘ë‹µìš© ì „ëµ (JSON)

  ```
  @PostMapping("/api/users")
  public ResponseEntity<?> save(@Valid @RequestBody UserDto dto, BindingResult result) {
      if (result.hasErrors()) {
          List<String> messages = result.getFieldErrors().stream()
              .map(FieldError::getDefaultMessage)
              .collect(Collectors.toList());
          return ResponseEntity.badRequest().body(messages);
      }
      return ResponseEntity.ok("success");
  }
  ```

  ------

  ### âš ï¸ 9. ì£¼ì˜ì‚¬í•­

  | í•­ëª©                                  | ì„¤ëª…                                                  |
  | ------------------------------------- | ----------------------------------------------------- |
  | ìˆœì„œ ì¤‘ìš” (`@Valid`, `BindingResult`) | ë°˜ë“œì‹œ `@Valid` ë‹¤ìŒ íŒŒë¼ë¯¸í„°ì— ìœ„ì¹˜í•´ì•¼ í•¨           |
  | `BindingResult` ì—†ìœ¼ë©´ ì˜ˆì™¸ ë°œìƒ      | â†’ `@ControllerAdvice`ë¡œ ì²˜ë¦¬ í•„ìš”                     |
  | `ModelAttribute` ê¸°ë°˜ì¼ ë•Œë§Œ ë™ì‘     | `@RequestBody` ì‹œì—ë„ ê°€ëŠ¥ (ë‹¨, `BindingResult` í•„ìš”) |
  | ë°”ì¸ë”© ì˜¤ë¥˜ = HTTP 400 ë°©ì§€           | BindingResult ì‚¬ìš© ì‹œ â†’ ì •ìƒ 200 ì‘ë‹µ ê°€ëŠ¥            |

  ------

  ### ğŸ“Œ 10. ìš”ì•½

  | í•­ëª©              | ì„¤ëª…                                                         |
  | ----------------- | ------------------------------------------------------------ |
  | ì •ì˜              | ì…ë ¥ê°’ ê²€ì¦ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´                             |
  | ë™ì‘ ì¡°ê±´         | `@Valid` ë˜ëŠ” `@Validated` ë°”ë¡œ ë‹¤ìŒ ìœ„ì¹˜                    |
  | ì˜ˆì™¸ vs ìˆ˜ë™ ì²˜ë¦¬ | ì—†ìŒ â†’ ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ì—ì„œ ì—ëŸ¬ ì§ì ‘ ì²˜ë¦¬ ê°€ëŠ¥                   |
  | ì£¼ìš” ë©”ì„œë“œ       | `hasErrors()`, `getFieldErrors()`, `rejectValue()` ë“±        |
  | ì‹¤ë¬´ ì „ëµ         | í¼ ê²€ì¦, REST API ì—ëŸ¬ ì‘ë‹µ, ì»¤ìŠ¤í…€ ë©”ì‹œì§€ ì¶œë ¥ ë“±ì—ì„œ í•„ìˆ˜ ì‚¬ìš© |

## ì˜ˆì™¸ ì²˜ë¦¬

- ## `@ExceptionHandler`, `@ControllerAdvice`

  `@ExceptionHandler`ì™€ `@ControllerAdvice`ëŠ” Spring MVCì—ì„œ **ì˜ˆì™¸ë¥¼ ì „ì—­ì ìœ¼ë¡œ, ë˜ëŠ” ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬**í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
   ì»¨íŠ¸ë¡¤ëŸ¬ ì½”ë“œ ì•ˆì—ì„œ try-catch ì—†ì´ë„, ì˜ˆì™¸ ìƒí™©ì„ **ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ê³  HTTP ì‘ë‹µê¹Œì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•**í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

  ë‹¤ìŒì€ ë‘ ì–´ë…¸í…Œì´ì…˜ì˜ **ê°œë…, ì—­í•  ì°¨ì´, ë™ì‘ ì›ë¦¬, ì‚¬ìš© ì˜ˆì œ, ìš°ì„ ìˆœìœ„, REST API ì²˜ë¦¬ ì „ëµ, ì‹¤ë¬´ í™•ì¥ ë°©ì‹**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

  ------

  ### ğŸ“˜ 1. ê¸°ë³¸ ì •ì˜

  | ì–´ë…¸í…Œì´ì…˜          | ì„¤ëª…                                                         |
  | ------------------- | ------------------------------------------------------------ |
  | `@ExceptionHandler` | íŠ¹ì • ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ ë‚´ì—ì„œ **í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì§ì ‘ ì²˜ë¦¬**        |
  | `@ControllerAdvice` | **ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ê¸° ì—­í• **, ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°œìƒí•œ ì˜ˆì™¸ ì²˜ë¦¬ ê°€ëŠ¥ |

  ------

  ### ğŸ§± 2. `@ExceptionHandler`

  #### âœ… ì •ì˜

  - ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ **íŠ¹ì • ì˜ˆì™¸ íƒ€ì…ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œì— ë¶€ì°©**

  #### âœ… ì˜ˆì œ

  ```
  @Controller
  public class UserController {
  
      @GetMapping("/user/{id}")
      public User getUser(@PathVariable Long id) {
          return userService.findById(id); // ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥
      }
  
      @ExceptionHandler(UserNotFoundException.class)
      public String handleUserNotFound(UserNotFoundException ex, Model model) {
          model.addAttribute("message", ex.getMessage());
          return "error/user-not-found";
      }
  }
  ```

  - ìœ„ ì˜ˆì™¸ëŠ” **UserController ë‚´ì—ì„œë§Œ ì‘ë™**
  - **ë·° ì´ë¦„ ë°˜í™˜, ìƒíƒœ ì½”ë“œ ì§€ì • ë¶ˆê°€**

  ------

  ### ğŸ§­ 3. `@ControllerAdvice`

  #### âœ… ì •ì˜

  - í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì—ì„œ **ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì˜ˆì™¸ë¥¼ ì „ì—­ì ìœ¼ë¡œ ì²˜ë¦¬**í•˜ë„ë¡ êµ¬ì„±
  - `@RestControllerAdvice`ëŠ” JSON ì‘ë‹µì— íŠ¹í™”ëœ ë²„ì „

  ```
  @ControllerAdvice
  public class GlobalExceptionHandler {
  
      @ExceptionHandler(UserNotFoundException.class)
      public ResponseEntity<String> handleUserNotFound(UserNotFoundException ex) {
          return ResponseEntity.status(HttpStatus.NOT_FOUND).body(ex.getMessage());
      }
  
      @ExceptionHandler(MethodArgumentNotValidException.class)
      public ResponseEntity<List<String>> handleValidation(MethodArgumentNotValidException ex) {
          List<String> errors = ex.getBindingResult().getFieldErrors()
              .stream().map(FieldError::getDefaultMessage).toList();
          return ResponseEntity.badRequest().body(errors);
      }
  }
  ```

  ------

  ### ğŸ”„ 4. ë™ì‘ íë¦„ ìš”ì•½

  ```
  Controller ì‹¤í–‰ ì¤‘ ì˜ˆì™¸ ë°œìƒ
    â†“
  ExceptionResolver ì°¾ìŒ
    â†“
  @ExceptionHandler ë©”ì„œë“œ íƒìƒ‰
    â†“
  â†’ @Controller í´ë˜ìŠ¤ ë‚´ë¶€ ìš°ì„ 
  â†’ ì—†ìœ¼ë©´ @ControllerAdvice ë‚´ë¶€ íƒìƒ‰
    â†“
  ì‘ë‹µ ë°˜í™˜ (ë·° or JSON)
  ```

  ------

  ### âš™ï¸ 5. HTTP ìƒíƒœ ì½”ë“œ ì œì–´

  #### ë°©ë²• 1: `ResponseEntity`

  ```
  @ExceptionHandler(NotFoundException.class)
  public ResponseEntity<String> handle(NotFoundException ex) {
      return ResponseEntity.status(HttpStatus.NOT_FOUND).body(ex.getMessage());
  }
  ```

  #### ë°©ë²• 2: `@ResponseStatus`

  ```
  @ResponseStatus(HttpStatus.NOT_FOUND)
  public class NotFoundException extends RuntimeException {
  }
  ```

  â†’ ì˜ˆì™¸ ìì²´ì— ìƒíƒœ ì½”ë“œë¥¼ ë¶€ì—¬

  ------

  ### ğŸ“¦ 6. REST APIìš© ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ê¸°

  ```
  @RestControllerAdvice
  public class ApiExceptionHandler {
  
      @ExceptionHandler(Exception.class)
      public ResponseEntity<ApiError> handleAll(Exception ex) {
          return ResponseEntity.internalServerError()
              .body(new ApiError("ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜", ex.getMessage()));
      }
  }
  ```

  - `@RestControllerAdvice` = `@ControllerAdvice + @ResponseBody`
  - JSON í˜•ì‹ì˜ ì˜¤ë¥˜ ì‘ë‹µì— ì í•©

  ------

  ### ğŸ§¾ 7. ì‹¤ë¬´ íŒ¨í„´: ì»¤ìŠ¤í…€ ì—ëŸ¬ ì‘ë‹µ ê°ì²´

  ```
  public class ErrorResponse {
      private String error;
      private String message;
      private LocalDateTime timestamp;
  }
  ```

  ```
  @ExceptionHandler(CustomException.class)
  public ResponseEntity<ErrorResponse> handle(CustomException e) {
      return ResponseEntity.badRequest().body(
          new ErrorResponse("BAD_REQUEST", e.getMessage(), LocalDateTime.now()));
  }
  ```

  ------

  ### ğŸ”§ 8. ìš°ì„ ìˆœìœ„ ë° ì£¼ì˜ì‚¬í•­

  | í•­ëª©                                 | ì„¤ëª…                                                         |
  | ------------------------------------ | ------------------------------------------------------------ |
  | ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ `@ExceptionHandler` ìš°ì„  | ê·¸ í´ë˜ìŠ¤ ë‚´ì—ì„œë§Œ ì‘ë™, ì „ì—­ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰                  |
  | `@ControllerAdvice`ëŠ” ì „ì—­ ì ìš©      | ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ ëŒ€ìƒ                                           |
  | `@ExceptionHandler(Exception.class)` | ëª¨ë“  ì˜ˆì™¸ ì¡ìŒ â†’ ë§ˆì§€ë§‰ì— ìœ„ì¹˜                               |
  | `BindingResult`ì™€ ì¶©ëŒ ì£¼ì˜          | ê²€ì¦ ì‹¤íŒ¨ ì‹œ `@ExceptionHandler`ë³´ë‹¤ `BindingResult`ê°€ ë¨¼ì € ì²˜ë¦¬ë¨ |

  ------

  ### ğŸ“Œ 9. ìš”ì•½

  | í•­ëª©               | `@ExceptionHandler`     | `@ControllerAdvice` / `@RestControllerAdvice` |
  | ------------------ | ----------------------- | --------------------------------------------- |
  | ì ìš© ë²”ìœ„          | í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤    | ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ (ì „ì—­)                          |
  | ëª©ì                | íŠ¹ì • ì˜ˆì™¸ ì²˜ë¦¬          | ê¸€ë¡œë²Œ ì˜ˆì™¸ ê´€ë¦¬                              |
  | ì‘ë‹µ í˜•ì‹          | ë·° ë˜ëŠ” ResponseEntity  | JSON or ResponseEntity                        |
  | ìƒíƒœ ì½”ë“œ ì œì–´     | `ResponseEntity`ë¡œ ì œì–´ | ë™ì¼                                          |
  | REST API ì¶”ì²œ í˜•íƒœ | âŒ ë¹„ì¶”ì²œ                | âœ… `@RestControllerAdvice` ì‚¬ìš©                |

## íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬

Spring MVCì—ì„œì˜ **íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬**ëŠ” `MultipartFile`ì„ í™œìš©í•˜ì—¬ **í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ íŒŒì¼ ë°ì´í„°ë¥¼ ì„œë²„ ì¸¡ì—ì„œ ìˆ˜ì‹ , ì €ì¥, ê²€ì¦**í•˜ëŠ” ê³¼ì •ì„ í¬í•¨í•©ë‹ˆë‹¤.
 Spring Bootë¥¼ ì‚¬ìš©í•˜ë©´ ì„¤ì • ì—†ì´ë„ **multipart/form-data** ìš”ì²­ì„ ìë™ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°,
 ì‘ì€ íŒŒì¼ë¶€í„° ëŒ€ìš©ëŸ‰ íŒŒì¼ê¹Œì§€ í™•ì¥ì„± ìˆê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ **íŒŒì¼ ì—…ë¡œë“œì˜ ê°œë…, ìš”ì²­ êµ¬ì¡°, MultipartFile ì‚¬ìš©ë²•, ë‹¨ì¼/ë‹¤ì¤‘ ì—…ë¡œë“œ, ì €ì¥ ì „ëµ, ì˜ˆì™¸ ì²˜ë¦¬, ë³´ì•ˆ ê³ ë ¤ì‚¬í•­**ê¹Œì§€ í¬í•¨í•œ
 **ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…**ì…ë‹ˆë‹¤.

------

### ğŸ“˜ 1. ê°œë… ìš”ì•½

| í•­ëª©           | ì„¤ëª…                                                         |
| -------------- | ------------------------------------------------------------ |
| ì—…ë¡œë“œ ë°©ì‹    | HTML form (`enctype="multipart/form-data"`)                  |
| ì„œë²„ ìˆ˜ì‹  ë°©ì‹ | Springì˜ `MultipartFile` ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©                     |
| ì²˜ë¦¬ ì—”ì§„      | `CommonsMultipartResolver` (ê³¼ê±°) â†’ Spring Bootì—ì„œëŠ” ìë™ ë‚´ì¥ |
| ì˜ì¡´ì„±         | `spring-boot-starter-web`ë§Œ ìˆìœ¼ë©´ ê¸°ë³¸ ì²˜ë¦¬ ê°€ëŠ¥            |

------

### ğŸ”§ 2. application ì„¤ì •

```
spring:
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 20MB
      enabled: true
      location: /tmp
```

â†’ ìµœëŒ€ ì—…ë¡œë“œ í¬ê¸° ì œí•œ ê°€ëŠ¥ / ë””ìŠ¤í¬ ì„ì‹œ ì €ì¥ì†Œ ì§€ì •

------

### ğŸ§ª 3. ë‹¨ì¼ íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ ì˜ˆì œ

#### HTML Form

```
<form method="post" enctype="multipart/form-data" action="/upload">
  <input type="file" name="file"/>
  <button type="submit">ì—…ë¡œë“œ</button>
</form>
```

#### ì»¨íŠ¸ë¡¤ëŸ¬

```
@PostMapping("/upload")
public String handleUpload(@RequestParam("file") MultipartFile file) throws IOException {
    if (file.isEmpty()) {
        return "íŒŒì¼ì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.";
    }
    
    // ì›ë³¸ íŒŒì¼ëª…
    String originalFilename = file.getOriginalFilename();
    
    // ì €ì¥ ê²½ë¡œ ì„¤ì •
    Path savePath = Paths.get("uploads", originalFilename);
    
    // íŒŒì¼ ì €ì¥
    Files.copy(file.getInputStream(), savePath, StandardCopyOption.REPLACE_EXISTING);

    return "ì—…ë¡œë“œ ì„±ê³µ";
}
```

------

### ğŸ“¦ 4. ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬

#### HTML Form

```
<form method="post" enctype="multipart/form-data" action="/upload/multi">
  <input type="file" name="files" multiple/>
  <button type="submit">ì—…ë¡œë“œ</button>
</form>
```

#### ì»¨íŠ¸ë¡¤ëŸ¬

```
@PostMapping("/upload/multi")
public String handleMultiUpload(@RequestParam("files") List<MultipartFile> files) throws IOException {
    for (MultipartFile file : files) {
        if (!file.isEmpty()) {
            Path path = Paths.get("uploads", file.getOriginalFilename());
            Files.copy(file.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);
        }
    }
    return "ì—¬ëŸ¬ íŒŒì¼ ì—…ë¡œë“œ ì„±ê³µ";
}
```

------

### ğŸ“ 5. ì €ì¥ ìœ„ì¹˜ ì „ëµ

| ë°©ì‹             | ì„¤ëª…                                                     |
| ---------------- | -------------------------------------------------------- |
| ë¡œì»¬ ë””ìŠ¤í¬ ì €ì¥ | `Files.copy()` ë˜ëŠ” `transferTo(File)` í™œìš©              |
| DB BLOB ì €ì¥     | `byte[]`ë¡œ ì¶”ì¶œ â†’ DBì— ì €ì¥ (ë¹„íš¨ìœ¨ì ì´ë¯€ë¡œ ì œí•œì  ì‚¬ìš©) |
| í´ë¼ìš°ë“œ ì—°ë™    | AWS S3, Google Cloud Storage, FTP ë“±ê³¼ ì—°ë™              |
| ë‚ ì§œ/UUID ë¶„ë¦¬   | `2025/05/23/{uuid}.ext` êµ¬ì¡° ì¶”ì²œ                        |

------

### ğŸ› ï¸ 6. íŒŒì¼ ì •ë³´ ì¶”ì¶œ API

| ë©”ì„œë“œ                  | ì„¤ëª…                                          |
| ----------------------- | --------------------------------------------- |
| `getOriginalFilename()` | í´ë¼ì´ì–¸íŠ¸ê°€ ì—…ë¡œë“œí•œ íŒŒì¼ëª…                  |
| `getSize()`             | íŒŒì¼ í¬ê¸° (byte)                              |
| `getContentType()`      | MIME íƒ€ì… (`image/png`, `application/pdf` ë“±) |
| `getInputStream()`      | ìŠ¤íŠ¸ë¦¼ ì¶”ì¶œ                                   |
| `transferTo(File)`      | ì§ì ‘ ì €ì¥                                     |

------

### ğŸš« 7. íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

| í•­ëª©             | ì„¤ëª…                                          |
| ---------------- | --------------------------------------------- |
| íŒŒì¼ í™•ì¥ì ê²€ì‚¬ | `.exe`, `.sh`, `.jsp` ë“± ê¸ˆì§€                 |
| MIME íƒ€ì… ê²€ì‚¬   | `image/*`, `application/pdf` ë“± ì œí•œ          |
| ì €ì¥ ê²½ë¡œ ê²€ì¦   | ì™¸ë¶€ë¡œ ë…¸ì¶œëœ ê²½ë¡œì— ì§ì ‘ ì €ì¥ âŒ              |
| ê²½ë¡œ íƒìƒ‰ ë°©ì§€   | `../` ê°™ì€ ìƒëŒ€ ê²½ë¡œ ì‚¬ìš© ê¸ˆì§€                |
| UUID íŒŒì¼ëª… ì‚¬ìš© | ì›ë³¸ íŒŒì¼ëª… ì‚¬ìš© ì‹œ ì¶©ëŒ ë° ë³´ì•ˆ ë¬¸ì œ ê°€ëŠ¥    |
| ì—…ë¡œë“œ í›„ ìŠ¤ìº”   | ì´ë¯¸ì§€ ê²€ì¦ ë“± ë°±ì‹  ì—°ë™ ê°€ëŠ¥ (ëŒ€ê·œëª¨ ì‹œìŠ¤í…œ) |

------

### âœ… 8. ì‹¤ë¬´ ì „ëµ

| ìƒí™©                          | ì „ëµ                                                         |
| ----------------------------- | ------------------------------------------------------------ |
| ì¼ë°˜ ì—…ë¡œë“œ (ì´ë¯¸ì§€, ë¬¸ì„œ ë“±) | MultipartFile + ë¡œì»¬ ì €ì¥                                    |
| REST API ì—…ë¡œë“œ               | JSON + base64 ë˜ëŠ” multipart/form-data                       |
| í´ë¼ìš°ë“œ ì €ì¥ì†Œ ì‚¬ìš©          | AWS S3 SDK ì—°ë™, File â†’ InputStream ë³€í™˜                     |
| ì¸ë„¤ì¼, ë¦¬ì‚¬ì´ì§• í•„ìš”         | ì—…ë¡œë“œ í›„ `Thumbnailator`, `ImageIO` ë“± í›„ì²˜ë¦¬               |
| ê²Œì‹œê¸€ ì²¨ë¶€íŒŒì¼ ë“±            | DBì— `uuid`, `originalFilename`, `path` ì €ì¥í•˜ê³  íŒŒì¼ì€ ë¡œì»¬ ì €ì¥ |

------

### ğŸ“Œ 9. ìš”ì•½

| í•­ëª©             | ì„¤ëª…                                                     |
| ---------------- | -------------------------------------------------------- |
| ì—…ë¡œë“œ ì²˜ë¦¬ ê¸°ë³¸ | `MultipartFile` ì‚¬ìš©                                     |
| ìš”ì²­ í˜•ì‹        | `multipart/form-data`                                    |
| ì €ì¥ ë°©ì‹        | ë¡œì»¬ ë””ìŠ¤í¬ or í´ë¼ìš°ë“œ                                  |
| ì‹¤ë¬´ ì „ëµ        | UUID + ë‚ ì§œ ë””ë ‰í† ë¦¬ ë¶„ë¦¬, í™•ì¥ì ì œí•œ ë“± ë³´ì•ˆ ì²˜ë¦¬ í•„ìˆ˜ |
| Spring Boot ì„¤ì • | `spring.servlet.multipart.*` ìë™ ì„¤ì • ì§€ì›              |

## êµ­ì œí™”(i18n)

**Springì˜ êµ­ì œí™”(i18n, Internationalization)**ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‹¤êµ­ì–´ ë©”ì‹œì§€ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
 ì‚¬ìš©ìì˜ **Locale(ì–¸ì–´/êµ­ê°€ ì„¤ì •)**ì— ë”°ë¼ **ë©”ì‹œì§€ ë²ˆì—­**, **ë‚ ì§œ/ìˆ«ì í¬ë§·**, **ë·° ì²˜ë¦¬ ë°©ì‹** ë“±ì„ ìë™ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

ë‹¤ìŒì€ Spring êµ­ì œí™”(i18n)ì˜ **ê°œë…, ë©”ì‹œì§€ ë¦¬ì†ŒìŠ¤ ì„¤ì •, `MessageSource` ì‚¬ìš©ë²•, LocaleResolver ì „ëµ, ë‹¤êµ­ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ ì²˜ë¦¬, ì‹¤ë¬´ êµ¬ì¡°**ê¹Œì§€ í¬í•¨í•œ ê°€ì¥ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì…ë‹ˆë‹¤.

------

### ğŸ“˜ 1. êµ­ì œí™”(i18n)ë€?

- **êµ­ì œí™”(i18n)**: ë‹¤êµ­ì–´ë¥¼ ì§€ì›í•˜ë„ë¡ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ê³¼ì • (i + 18ê¸€ì + n)
- **ì§€ì—­í™”(l10n)**: íŠ¹ì • ì–¸ì–´/êµ­ê°€ì— ë§ì¶° ì½˜í…ì¸ ë¥¼ ì‹¤ì œë¡œ ë²ˆì—­ ë° ì ìš©í•˜ëŠ” ê²ƒ

------

### ğŸ§± 2. ë©”ì‹œì§€ í”„ë¡œí¼í‹° íŒŒì¼ êµ¬ì¡°

| íŒŒì¼ëª…                   | ëŒ€ìƒ ì–¸ì–´/ì§€ì—­             |
| ------------------------ | -------------------------- |
| `messages.properties`    | ê¸°ë³¸ (ì˜ì–´ ë˜ëŠ” ì„¤ì • ì—†ìŒ) |
| `messages_ko.properties` | í•œêµ­ì–´                     |
| `messages_en.properties` | ì˜ì–´                       |
| `messages_ja.properties` | ì¼ë³¸ì–´                     |

#### ì˜ˆ: `messages_ko.properties`

```
greeting=ì•ˆë…•í•˜ì„¸ìš”
username.label=ì‚¬ìš©ì ì´ë¦„
```

#### ì˜ˆ: `messages_en.properties`

```
greeting=Hello
username.label=Username
```

------

### ğŸ”§ 3. Spring Boot êµ­ì œí™” ì„¤ì •

```
spring:
  messages:
    basename: messages   # messages_ko.properties, messages_en.properties ë“±
    encoding: UTF-8
```

- ê¸°ë³¸ ìœ„ì¹˜: `src/main/resources/messages_*.properties`
- ë‹¤ì¤‘ íŒŒì¼: `basename: messages,errors,labels`

------

### ğŸ§© 4. Locale ì„¤ì • ì „ëµ

Springì—ì„œëŠ” ì‚¬ìš©ìì˜ ì–¸ì–´ ì •ë³´ë¥¼ **LocaleResolver**ë¥¼ í†µí•´ ê²°ì •í•¨.

#### âœ… 1. `AcceptHeaderLocaleResolver` (ê¸°ë³¸ê°’)

- ë¸Œë¼ìš°ì €ì˜ `Accept-Language` í—¤ë”ì— ë”°ë¼ ìë™ ì„¤ì •

#### âœ… 2. `SessionLocaleResolver`

- ì„¸ì…˜ì— Locale ì €ì¥

#### âœ… 3. `CookieLocaleResolver`

- ì¿ í‚¤ë¡œ ì‚¬ìš©ì Locale ê¸°ì–µ

#### âœ… ë“±ë¡ ë°©ë²• (Java Config)

```
@Bean
public LocaleResolver localeResolver() {
    SessionLocaleResolver resolver = new SessionLocaleResolver();
    resolver.setDefaultLocale(Locale.KOREA);
    return resolver;
}
```

------

### ğŸŒ 5. Locale ë³€ê²½ ë°©ë²•

#### âœ… ì›¹ì—ì„œ ì–¸ì–´ ë³€ê²½

```
@Bean
public LocaleChangeInterceptor localeChangeInterceptor() {
    LocaleChangeInterceptor interceptor = new LocaleChangeInterceptor();
    interceptor.setParamName("lang"); // ?lang=ko
    return interceptor;
}
```

```
@Override
public void addInterceptors(InterceptorRegistry registry) {
    registry.addInterceptor(localeChangeInterceptor());
}
```

â†’ `/main?lang=ko`ì²˜ëŸ¼ ìš”ì²­í•˜ë©´ ì–¸ì–´ ë³€ê²½ ê°€ëŠ¥

------

### ğŸ§ª 6. ë©”ì‹œì§€ ì¶œë ¥ ë°©ì‹

#### âœ… Thymeleaf

```
<p th:text="#{greeting}">ê¸°ë³¸ ì¸ì‚¬</p>
```

#### âœ… JSP

```
<spring:message code="greeting"/>
```

#### âœ… Java ì½”ë“œ (Service, Controller)

```
@Autowired
private MessageSource messageSource;

public String getMessage(Locale locale) {
    return messageSource.getMessage("greeting", null, locale);
}
```

------

### ğŸ§  7. ë©”ì‹œì§€ í¬ë§·íŒ…

#### âœ… ë©”ì‹œì§€ íŒŒì¼

```
welcome=ì•ˆë…•í•˜ì„¸ìš”, {0}ë‹˜! ì˜¤ëŠ˜ì€ {1}ì…ë‹ˆë‹¤.
```

#### âœ… ì½”ë“œì—ì„œ ì‚¬ìš©

```
messageSource.getMessage("welcome", new Object[]{"ì •ì„", "ê¸ˆìš”ì¼"}, locale)
â†’ "ì•ˆë…•í•˜ì„¸ìš”, ì •ì„ë‹˜! ì˜¤ëŠ˜ì€ ê¸ˆìš”ì¼ì…ë‹ˆë‹¤."
```

------

### ğŸ› ï¸ 8. ì‹¤ë¬´ ì „ëµ

| í•­ëª©                                  | ì„¤ëª…                                                   |
| ------------------------------------- | ------------------------------------------------------ |
| ë‹¤êµ­ì–´ í‚¤ ê´€ë¦¬                        | `messages.properties`ë¡œ í†µí•© ê´€ë¦¬ (prefix ê¸°ì¤€ ê·¸ë£¹í™”) |
| ì˜ì–´ â†’ í•œêµ­ì–´ â†’ ì¤‘êµ­ì–´ ìˆœ ì ìš©        | LocaleResolver + fallback ì „ëµ ì‚¬ìš©                    |
| í…ìŠ¤íŠ¸ ì™¸ì—ë„ **ë‚ ì§œ/ìˆ«ì í¬ë§·** ì§€ì› | `@DateTimeFormat`, `NumberFormat`ê³¼ ì—°ê³„ ê°€ëŠ¥          |
| ì‚¬ìš©ì ì–¸ì–´ ë³€ê²½ ì§€ì›                 | `LocaleChangeInterceptor` + ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°              |
| Spring Securityì™€ ì—°ê³„ ì‹œ ì£¼ì˜        | ì¸ì¦ ì „ Locale ì„¤ì •ì€ Cookie/Session ê¸°ë°˜ ê¶Œì¥         |

------

### âœ… 9. ìš”ì•½

| í•­ëª©               | ì„¤ëª…                                                         |
| ------------------ | ------------------------------------------------------------ |
| ë©”ì‹œì§€ ë¦¬ì†ŒìŠ¤ íŒŒì¼ | `messages_{locale}.properties`                               |
| ë©”ì‹œì§€ ì¶œë ¥ ë°©ë²•   | Thymeleaf: `#{code}` / Java: `MessageSource`                 |
| Locale ê²°ì • ë°©ì‹   | ê¸°ë³¸: `AcceptHeader`, ì»¤ìŠ¤í…€: Session/Cookie                 |
| ì–¸ì–´ ë³€ê²½ ë°©ë²•     | ì¿¼ë¦¬ìŠ¤íŠ¸ë§ (`?lang=ko`) + Interceptor                        |
| ì‹¤ë¬´ ì „ëµ          | prefix ê·¸ë£¹í™”, ë‹¤êµ­ì–´ í‚¤ ë„¤ì´ë° ê·œì¹™í™”, JSON ë™ì  ë©”ì‹œì§€ ëŒ€ì‘ ê°€ëŠ¥ |